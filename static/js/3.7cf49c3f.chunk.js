(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[3],{298:function(t,e,s){t.exports={profile:"profile_profile__3cwuU"}},299:function(t,e,s){t.exports={profileInfo:"profileInfo_profileInfo__3sBw5"}},300:function(t,e,s){t.exports={profileStatus:"profileStatus_profileStatus__2oYnP"}},301:function(t,e,s){t.exports={myPost:"myPosts_myPost__2DNlG",posts:"myPosts_posts__1im5i"}},302:function(t,e,s){t.exports={post:"post_post__jTX2w",avatar:"post_avatar__KNNEj",message:"post_message__3ZQoL"}},304:function(t,e,s){"use strict";s.r(e);var r=s(3),n=s(27),a=s(28),o=s(30),u=s(29),c=s(0),i=s.n(c),p=s(298),f=s.n(p),j=s(299),l=s.n(j),b=s(31),d=s(33),h=s(300),O=s.n(h),x=s(1),m=function(t){var e=Object(c.useState)(!1),s=Object(d.a)(e,2),r=s[0],n=s[1],a=Object(c.useState)(t.status),o=Object(d.a)(a,2),u=o[0],i=o[1];Object(c.useEffect)((function(){i(t.status)}),[t.status]);return Object(x.jsxs)("div",{className:O.a.profileStatus,children:[!r&&Object(x.jsx)("div",{children:Object(x.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"no status"})}),r&&Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:function(t){i(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateUserStatus(u)},value:u})})]})},v=function(t){var e=t.userProfile,s=t.status,r=t.updateUserStatus;return e?Object(x.jsx)("div",{className:l.a.profileInfo,children:Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:e.photos.large,alt:"avatar logo"}),Object(x.jsx)(m,{status:s,updateUserStatus:r})]})}):Object(x.jsx)(b.a,{})},P=s(14),g=s.n(P),_=s(23),y=s(8),S=s(21),U=function(t){return{type:y.h,status:t}},k=s(301),w=s.n(k),I=s(302),N=s.n(I),T=function(t){return Object(x.jsxs)("div",{className:N.a.post,children:[Object(x.jsxs)("div",{className:N.a.avatar,children:[Object(x.jsx)("img",{src:"https://media.istockphoto.com/vectors/male-avatar-icon-or-portrait-handsome-young-man-face-with-beard-vector-id1143511824?k=20&m=1143511824&s=170667a&w=0&h=OjcgBMRpj82IXTItixtv6aIbeP9vny0lCqg0eY6ZONQ=",alt:"avatar"}),Object(x.jsx)("p",{className:N.a.message,children:t.message})]}),Object(x.jsx)("div",{className:"likes",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{children:"like"})," ",Object(x.jsx)("span",{children:t.likesCount})]})})]})},C=s(126),D=s(87),A=s(37),B=Object(D.a)(10),E=Object(C.a)({form:"addPost"})((function(t){return Object(x.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(A.c)("text","postText",[D.b,B],"Enter your post text",A.b),Object(x.jsx)("button",{children:"Add post"})]})})),M=i.a.memo((function(t){return Object(x.jsxs)("div",{className:w.a.myPost,children:["My posts",Object(x.jsx)(E,{onSubmit:function(e){t.addPost(e.postText)}}),Object(x.jsx)("div",{className:w.a.posts,children:t.postData.map((function(t){return Object(x.jsx)(T,{message:t.messagePost,likesCount:t.likes},t.id)}))})]})})),z=s(11),J=s(9),Q=Object(J.d)(Object(z.b)((function(t){return{newPostText:t.profilePage.newPostText,postData:t.profilePage.postData}}),(function(t){return{addPost:function(e){t(function(t){return{type:y.b,postText:t}}(e))}}})))(M),X=function(t){return Object(x.jsxs)("div",{className:f.a.profile,children:[Object(x.jsx)(v,{userProfile:t.userProfile,status:t.status,updateUserStatus:t.updateUserStatus}),Object(x.jsx)(Q,{})]})},Y=s(6),Z=s(96),q=function(t){Object(o.a)(s,t);var e=Object(u.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return Object(x.jsx)(X,Object(r.a)(Object(r.a)({},this.props),{},{userProfile:this.props.userProfile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),s}(i.a.Component),F=Object(Z.a)(q);e.default=Object(J.d)(Object(z.b)((function(t){return{userProfile:t.profilePage.userProfile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),(function(t){return{setUserProfile:function(e){t(function(t){return function(){var e=Object(_.a)(g.a.mark((function e(s){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.b.getUserProfile(t);case 2:r=e.sent,s((n=r,{type:y.m,userProfile:n}));case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},getUserStatus:function(e){t(function(t){return function(){var e=Object(_.a)(g.a.mark((function e(s){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.b.getUserStatus(t);case 2:r=e.sent,s(U(r.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},updateUserStatus:function(e){t(function(t){return function(){var e=Object(_.a)(g.a.mark((function e(s){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.b.updateUserStatus(t);case 2:0===e.sent.data.resultCode&&s(U(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}})))((function(t){var e=Object(Y.h)().userId;return Object(x.jsx)(F,Object(r.a)(Object(r.a)({userId:e},t),{},{userProfile:t.userProfile,setUserProfile:t.setUserProfile}))}))}}]);
//# sourceMappingURL=3.7cf49c3f.chunk.js.map